webpackJsonp([19],{1663:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=(n.n(r),n(1981)),i=n(685),c=n(7),o=function(e){return{components:n.i(c.getMeasuresAppTreeComponents)(e),breadcrumbs:n.i(c.getMeasuresAppTreeBreadcrumbs)(e),selected:n.i(c.getMeasuresAppTreeSelected)(e),total:n.i(c.getMeasuresAppTreeTotal)(e),pageIndex:n.i(c.getMeasuresAppTreePageIndex)(e),component:n.i(c.getMeasuresAppComponent)(e),metrics:n.i(c.getMeasuresAppAllMetrics)(e),metric:n.i(c.getMeasuresAppDetailsMetric)(e),fetching:n.i(c.isMeasuresAppFetching)(e)}},l=function(e){return{onStart:function(t,r,a){return e(n.i(i.c)(t,r,a))},onDrilldown:function(t){return e(n.i(i.d)(t))},onUseBreadcrumbs:function(t){return e(n.i(i.e)(t))},onFetchMore:function(){return e(n.i(i.f)())},onSelect:function(t){return e(n.i(i.g)(t))},onSelectNext:function(t){return e(n.i(i.h)(t))},onSelectPrevious:function(t){return e(n.i(i.i)(t))}}};t.default=n.i(r.connect)(o,l)(a.a)},1709:function(e,t,n){"use strict";function r(){return c}t.a=r;var a=n(0),i=n.n(a),c=i.a.createElement("i",{className:"spinner spinner-margin"})},1788:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(85),c=n(125),o=n(24),l=function(e){var t=e.component,r=e.metric,l=e.onBrowse,s=function(e){e.preventDefault(),e.target.blur(),l(t)},u=void 0;u=l?a.a.createElement("a",{id:"component-measures-breadcrumb-"+t.key,href:"#",onClick:s},t.name):a.a.createElement("span",null,t.name);var m=n.i(o.isDiffMetric)(r.key)?n.i(c.e)(t.leak,r):n.i(o.formatMeasure)(t.value,r.type);return a.a.createElement("span",null,a.a.createElement(i.a,{qualifier:t.qualifier})," ",u,null!=m&&a.a.createElement("span",null," ("+m+")"))};t.a=l},1789:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1788),c=function(e){var t=e.breadcrumbs,n=e.metric,r=e.onBrowse;return a.a.createElement("ul",{className:"component-measures-breadcrumbs"},t.map(function(e,c){return a.a.createElement("li",{key:e.key},a.a.createElement(i.a,{component:e,metric:n,onBrowse:c+1<t.length?r:null}))}))};t.a=c},1790:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(10),c=n.n(i),o=n(85),l=n(96),s=n(48),u=a.a.createElement("span",{className:"big-spacer-right"},a.a.createElement("i",{className:"icon-detach"})),m=function(e){var t=e.component,r=e.isSelected,i=e.onClick,m=c()("link-no-underline",{selected:r}),p=function(e){var t=0===e.button,n=!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey);t&&!n&&(e.preventDefault(),i())},f="",d=t.name;if(["DIR","FIL","UTS"].includes(t.qualifier)){var h=n.i(l.splitPath)(t.path);f=h.head,d=h.tail}var v=a.a.createElement("span",{title:t.refKey||t.key},a.a.createElement(o.a,{qualifier:t.qualifier})," ",f.length>0&&a.a.createElement("span",{className:"note"},f,"/"),a.a.createElement("span",null,d));return a.a.createElement("td",{style:{maxWidth:0}},a.a.createElement("div",{style:{maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},null==t.refId||"DEV_PRJ"===t.qualifier?a.a.createElement("a",{id:"component-measures-component-link-"+t.key,className:m,href:n.i(s.j)(t.key),onClick:p},v):a.a.createElement("a",{id:"component-measures-component-link-"+t.key,className:m,href:n.i(s.j)(t.refKey||t.key)},u,v)))};t.a=m},1791:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1792),c=n(1793),o=n(337),l=n(2),s=a.a.createElement(c.a,null),u=a.a.createElement("th",null," "),m=function(e){var t=e.components,r=e.metrics,c=e.selected,m=e.metric,p=e.onClick;if(!t.length)return s;var f=(o.a[m.key]||[]).map(function(e){return r.find(function(t){return t.key===e})});return a.a.createElement("table",{className:"data zebra zebra-hover"},f.length>0&&a.a.createElement("thead",null,a.a.createElement("tr",null,u,a.a.createElement("th",{className:"text-right"},a.a.createElement("span",{className:"small"},n.i(l.getLocalizedMetricName)(m))),f.map(function(e){return a.a.createElement("th",{key:e.key,className:"text-right"},a.a.createElement("span",{className:"small"},n.i(l.getLocalizedMetricName)(e)))}))),a.a.createElement("tbody",null,t.map(function(e){return a.a.createElement(i.a,{key:e.id,component:e,otherMetrics:f,isSelected:e===c,metric:m,onClick:p})})))};t.a=m},1792:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1790),c=n(1795),o=this,l=function(e,t){return Object.assign({},e,{value:t.value,leak:t.leak})},s=function(e){var t=e.component,n=e.otherMetrics,r=e.isSelected,s=e.metric,u=e.onClick,m=function(){u(t)},p=n.map(function(e){var n=t.measures.find(function(t){return t.metric===e.key});return Object.assign({},n,{metric:e})});return a.a.createElement("tr",null,a.a.createElement(i.a,{component:t,isSelected:r,onClick:m.bind(o,t)}),a.a.createElement(c.a,{component:t,metric:s}),p.map(function(e){return a.a.createElement(c.a,{key:e.metric.key,component:l(t,e),metric:e.metric})}))};t.a=s},1793:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(2),c=function(){return a.a.createElement("div",{className:"note"},n.i(i.translate)("no_results"))};t.a=c},1794:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1789),c=n(2),o=function(e){var t=e.metric,r=e.breadcrumbs,o=e.onBrowse,l=e.selectedIndex,s=e.componentsCount,u=e.onSelectPrevious,m=e.onSelectNext,p=l>0,f=l<s-1,d=function(e){return function(t){t.target.blur(),e()}};return a.a.createElement("header",{className:"measure-details-viewer-header"},null!=r&&r.length>1&&a.a.createElement("div",{className:"measure-details-header-container"},a.a.createElement(i.a,{breadcrumbs:r,metric:t,onBrowse:o})),null!=l&&-1!==l&&a.a.createElement("div",{className:"pull-right"},a.a.createElement("span",{className:"note spacer-right"},n.i(c.translateWithParameters)("component_measures.x_of_y",l+1,s)),a.a.createElement("div",{className:"button-group"},p&&a.a.createElement("button",{onClick:d(u)},"<"),f&&a.a.createElement("button",{onClick:d(m)},">"))))};t.a=o},1795:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(327),c=function(e){var t=e.component,n=e.metric;return a.a.createElement("td",{className:"thin nowrap text-right"},a.a.createElement("span",{id:"component-measures-component-measure-"+t.key+"-"+n.key},a.a.createElement(i.a,{measure:{value:t.value,leak:t.leak},metric:n})))};t.a=c},1981:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=n(0),o=n.n(c),l=n(3),s=n.n(l),u=n(1791),m=n(1794),p=n(1709),f=n(214),d=n(167),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=o.a.createElement(p.a,null),y=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),h(t,[{key:"componentDidMount",value:function(){this.handleChangeBaseComponent(this.props.component)}},{key:"componentDidUpdate",value:function(e){e.metric!==this.props.metric&&this.handleChangeBaseComponent(this.props.component),this.props.selected?this.scrollToViewer():this.scrollTop&&this.scrollToStoredPosition()}},{key:"scrollToViewer",value:function(){var e=this.refs.container,t=e.getBoundingClientRect().top+window.scrollY-95-10;window.scrollY>t&&window.scrollTo(0,t)}},{key:"scrollToStoredPosition",value:function(){window.scrollTo(0,this.scrollTop),this.scrollTop=null}},{key:"storeScrollPosition",value:function(){this.scrollTop=window.scrollY}},{key:"handleChangeBaseComponent",value:function(e){var t=this.props,n=t.metric,r=t.onStart,a=this.props.location.query.period||1;r(e,n,Number(a))}},{key:"handleFetchMore",value:function(){this.props.onFetchMore()}},{key:"changeSelected",value:function(e){this.props.onSelect(e)}},{key:"canDrilldown",value:function(e){return!["FIL","UTS"].includes(e.qualifier)}},{key:"handleClick",value:function(e){this.canDrilldown(e)?this.props.onDrilldown(e):(this.storeScrollPosition(),this.props.onSelect(e))}},{key:"handleBreadcrumbClick",value:function(e){this.props.onUseBreadcrumbs(e,this.props.metric)}},{key:"render",value:function(){var e=this.props,t=e.components,n=e.metrics,r=e.breadcrumbs,a=e.metric,i=e.leakPeriod,c=e.selected,l=e.total,p=e.fetching,h=this.props,y=h.onSelectNext,E=h.onSelectPrevious,k=t.indexOf(c),b=0===a.key.indexOf("new_")&&i?i:null,g=null!=b?s()(b.date).toDate():null,w=null!=g?function(e){if(e.scmDate){return s()(e.scmDate).toDate()>=g}return!1}:void 0;return o.a.createElement("div",{ref:"container",className:"measure-details-plain-list"},o.a.createElement(m.a,{metric:a,breadcrumbs:r,componentsCount:t.length,selectedIndex:k,onSelectPrevious:E,onSelectNext:y,onBrowse:this.handleBreadcrumbClick.bind(this)}),!c&&o.a.createElement("div",null,p&&0===t.length?v:o.a.createElement("div",null,o.a.createElement(u.a,{components:t,metrics:n,selected:c,metric:a,onClick:this.handleClick.bind(this)}),o.a.createElement(d.a,{count:t.length,total:l,loadMore:this.handleFetchMore.bind(this)}))),!!c&&o.a.createElement("div",{className:"measure-details-viewer"},o.a.createElement(f.default,{component:c.key,filterLine:w})))}}]),t}(o.a.PureComponent);t.a=y}});
//# sourceMappingURL=19.4075490b.chunk.js.map